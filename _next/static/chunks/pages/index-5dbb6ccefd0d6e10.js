(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(9287)}])},9287:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__N_SSG:()=>r,default:()=>l});var s=i(7876),n=i(4232);function o(e){let{url:t}=e;if(!t)return null;let i=t.split("/").pop();return(0,s.jsx)("div",{style:{position:"relative",paddingTop:"56.25%"},children:(0,s.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(i),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"8px"}})})}var r=!0;function l(e){let{sessions:t}=e,i={};t.forEach(e=>{let t=e.date,[s,n,o]=t.split("-"),r="".concat(s,"-").concat(n);i[r]||(i[r]={totalHours:0,days:{}}),i[r].days[t]||(i[r].days[t]={totalHours:0,sessions:[]});let l=Number(e.hours);i[r].totalHours+=l,i[r].days[t].totalHours+=l,i[r].days[t].sessions.push({startTime:e.started_time,endTime:e.time,hours:l,youtubeLink:e.youtube_link||""})});let r=Object.keys(i).map(e=>({month:e,monthLabel:new Date("".concat(e,"-01")).toLocaleDateString(void 0,{month:"long",year:"numeric"}),...i[e],days:Object.keys(i[e].days).map(t=>({date:t,dayOfMonth:new Date(t).getDate(),...i[e].days[t]})).sort((e,t)=>new Date(e.date)-new Date(t.date))})).sort((e,t)=>new Date("".concat(t.month,"-01"))-new Date("".concat(e.month,"-01"))),l=t.reduce((e,t)=>e+Number(t.hours),0);new Set(t.map(e=>e.date)).size;let d=t.length,[a,x]=(0,n.useState)(null),[p,c]=(0,n.useState)(null),h=e=>Math.max(...e.map(e=>e.totalHours),3),u=e=>{a===e?x(null):x(e),c(null)},m=e=>{c(p===e?null:e)};return(0,s.jsxs)("div",{style:{padding:"16px",fontFamily:"sans-serif",maxWidth:"100%",margin:"0 auto"},children:[(0,s.jsx)("h1",{style:{fontSize:"24px",marginBottom:"12px"},children:"Mandarin Live streams"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",marginBottom:"24px",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f5fbff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",flex:"1",minWidth:"100px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"12px",color:"#555"},children:"TOTAL HOURS"}),(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1a73e8"},children:l.toFixed(0)})]}),(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f5fbff",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",flex:"1",minWidth:"100px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"12px",color:"#555"},children:"STREAMS"}),(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1a73e8"},children:d})]})]}),(0,s.jsx)("h2",{style:{fontSize:"20px",marginTop:"24px",marginBottom:"16px"},children:"Study Activity"}),(0,s.jsx)("div",{style:{marginBottom:"24px"},children:r.map((e,t)=>{let i=h(e.days),n=a===e.month;return(0,s.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,s.jsxs)("div",{onClick:()=>u(e.month),style:{padding:"12px",backgroundColor:n?"#1a73e8":"#f0f0f0",color:n?"white":"black",borderRadius:"8px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontWeight:"bold"},children:e.monthLabel}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsxs)("span",{children:[e.totalHours.toFixed(1)," hours"]}),(0,s.jsx)("span",{style:{transform:n?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:"▼"})]})]}),n&&(0,s.jsx)("div",{style:{marginTop:"8px",padding:"8px"},children:e.days.map((e,t)=>{let n=p===e.date,r="".concat(e.totalHours/i*100,"%");return(0,s.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,s.jsxs)("div",{onClick:()=>m(e.date),style:{display:"flex",alignItems:"center",padding:"8px",cursor:"pointer",borderBottom:"1px solid #eee"},children:[(0,s.jsx)("div",{style:{width:"40px",textAlign:"center",fontWeight:"bold",color:"#555"},children:e.dayOfMonth}),(0,s.jsx)("div",{style:{flex:1,marginLeft:"8px",marginRight:"8px"},children:(0,s.jsx)("div",{style:{height:"16px",width:r,backgroundColor:"#4aaf07",borderRadius:"3px"}})}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsxs)("span",{children:[e.totalHours.toFixed(1),"h"]}),(0,s.jsx)("span",{style:{fontSize:"10px",transform:n?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"},children:"▼"})]})]}),n&&(0,s.jsx)("div",{style:{padding:"12px",backgroundColor:"#f9f9f9",borderRadius:"8px",marginTop:"8px"},children:e.sessions.map((t,i)=>(0,s.jsxs)("div",{style:{padding:"12px",borderBottom:i<e.sessions.length-1?"1px solid #eee":"none",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",color:"#555"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{style:{fontWeight:"bold"},children:t.startTime})," - ",t.endTime]}),(0,s.jsxs)("div",{style:{fontWeight:"bold"},children:[t.hours.toFixed(2),"h"]})]}),(0,s.jsx)(o,{url:t.youtubeLink})]},i))})]},t)})})]},t)})}),(0,s.jsx)("h2",{style:{fontSize:"20px",marginTop:"24px",marginBottom:"16px"},children:"Recent Streams"}),(0,s.jsx)("div",{children:t.sort((e,t)=>new Date(t.date+" "+t.time)-new Date(e.date+" "+e.time)).slice(0,5).map((e,t)=>(0,s.jsxs)("div",{style:{padding:"12px",marginBottom:"8px",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[(0,s.jsx)("div",{style:{fontWeight:"bold"},children:e.date}),(0,s.jsxs)("div",{children:[Number(e.hours).toFixed(2),"h"]})]}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#555",marginBottom:"8px"},children:[e.started_time," - ",e.time]}),(0,s.jsx)(o,{url:e.youtube_link})]},t))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2936)),_N_E=e.O()}]);